# -*- coding: utf-8 -*-
"""model.ipynb adlÄ± not defterinin kopyasÄ±

Automatically generated by Colab.

Original file is located at
    https://colab.research.google.com/drive/1q3bOPGPyCU9PsWvmPvkS5d-6XUyU-bfj
"""
import streamlit as st
import base64
import numpy as np
import pandas as pd

import seaborn as sns
from matplotlib import pyplot as plt

from PIL import Image
import pickle
from streamlit_autorefresh import st_autorefresh
from streamlit_option_menu import option_menu
import joblib
from sklearn.pipeline import Pipeline

st.set_page_config(
    page_title="Laptop Price Prediction",
    page_icon="ğŸ’»",
    initial_sidebar_state="expanded",
)


with st.sidebar:
    selected = option_menu(
        menu_title=None,
        options=["GiriÅŸ", "EDA", "Tavsiye Sistemi", "Model Tahmini", "Model DeÄŸerlendirmesi"],
        default_index=0
    )

def get_base64_of_bin_file(bin_file):
    with open(bin_file, 'rb') as f:
        data = f.read()
    return base64.b64encode(data).decode()

def get_base64_of_bin_file(bin_file):
    with open(bin_file, 'rb') as f:
        data = f.read()
    return base64.b64encode(data).decode()


def set_png_as_page_bg(png_file):
    bin_str = get_base64_of_bin_file(png_file)
    page_bg_img = f"""
    <style>
    [data-testid="stSidebar"] > div:first-child {{
        background-image: url("data:image/png;base64,{bin_str}");
        background-size: cover;
        background-repeat: no-repeat;
        background-position: center;
        border-radius: 15px;
        overflow: visible;

    }}
    </style>
    """
    st.markdown(page_bg_img, unsafe_allow_html=True)

sidebar_bg_image = "sidebar.png"

def set_png_as_page_bg(png_file):
    bin_str = get_base64_of_bin_file(png_file)
    page_bg_img = f"""
    <style>
    [data-testid="stSidebar"] > div:first-child {{
        background-image: url("data:image/png;base64,{bin_str}");
        background-size: cover;
        background-repeat: no-repeat;
        background-position: center;
        border-radius: 15px;
        overflow: visible;

    }}
    </style>
    """
    st.markdown(page_bg_img, unsafe_allow_html=True)


set_png_as_page_bg(sidebar_bg_image)
def get_raw_data():
    """
    This function returns a pandas DataFrame with the raw data.
    """
    raw_df = pd.read_csv('datasets/raw_df.csv')
    return raw_df

def get_cleaned_data():
    """
    This function return a pandas DataFrame with the cleaned data.
    """
    clean_data = pd.read_csv('datasets/all_cleaned.csv')
    return clean_data

df = get_cleaned_data()



def summary_table(df):

    summary = {
    "DeÄŸiÅŸken SayÄ±sÄ±": [len(df.columns)],
    "GÃ¶zlem SayÄ±sÄ±": [df.shape[0]],
    "Eksik HÃ¼creler": [df.isnull().sum().sum()],
    #"Missing Cells (%)": [round(df.isnull().sum().sum() / df.shape[0] * 100, 2)],
    "Yinelenen SatÄ±rlar": [df.duplicated().sum()],
    "Yinelenen SatÄ±rlar (%)": [round(df.duplicated().sum() / df.shape[0] * 100, 2)],
    "Kategorik DeÄŸiÅŸkenler": [len([i for i in df.columns if df[i].dtype==object])],
    "SayÄ±sal DeÄŸiÅŸkenler": [len([i for i in df.columns if df[i].dtype!=object])],
    }
    return pd.DataFrame(summary).T.rename(columns={0: 'Values'})


def grab_col_names(dataframe, cat_th=10, car_th=35):  # kategorik, nÃ¼merik deÄŸiÅŸkenleri ayÄ±klamak iÃ§in
  ###cat_cols
  cat_cols = [col for col in dataframe.columns if dataframe[col].dtypes == "O"]
  num_but_cat = [col for col in dataframe.columns if dataframe[col].nunique() < cat_th and
                 dataframe[col].dtypes != "O"]
  cat_but_car = [col for col in dataframe.columns if dataframe[col].nunique() > car_th and
                 dataframe[col].dtypes == "O"]
  cat_cols = cat_cols + num_but_cat
  cat_cols = [col for col in cat_cols if col not in cat_but_car]
  ###num_cols
  num_cols = [col for col in dataframe.columns if dataframe[col].dtypes != "O"]
  num_cols = [col for col in num_cols if col not in num_but_cat]
  print(f"observations: {dataframe.shape[0]}")
  print(f"variables: {dataframe.shape[1]}")
  print(f"cat_cols: {len(cat_cols)}")
  print(f"num_cols: {len(num_cols)}")
  print(f"cat_but_car: {len(cat_but_car)}", f"cat_but_car name: {cat_but_car}")
  print(f"num_but_cat: {len(num_but_cat)}", f"num_but_cat name: {num_but_cat}")
  return cat_cols, num_cols, cat_but_car

def num_summary(dataframe, col_name, plot=False):
    quantiles = [0.05, 0.10, 0.20, 0.30, 0.40, 0.50, 0.60, 0.70, 0.80, 0.90, 0.99]
    col1, col2 = st.columns([1, 3])
    with col1:
        st.write(dataframe[col_name].describe(quantiles).T)
    with col2:
        if plot:
            fig, ax = plt.subplots(figsize=(10, 6))
            dataframe[col_name].hist(bins=20, color="#384959")
            plt.xlabel("Value", fontsize=14)
            plt.ylabel("Frequency", fontsize=14)
            plt.title(col_name, fontsize=14)
            st.pyplot(fig)


#######################INTRODUCTION#########################

slide_images = [
        "introduction_slideshow/slideshow-1.jpg",
        "introduction_slideshow/slideshow-2.jpg",
        "introduction_slideshow/slideshow-3.jpg",
        "introduction_slideshow/slideshow-4.jpg",
        "introduction_slideshow/slideshow-5.jpeg",
        "introduction_slideshow/slideshow-6.jpeg",
        "introduction_slideshow/slideshow-7.jpeg",
        "introduction_slideshow/slideshow-8.jpg"
]

refresh_rate = 3
#INTRODUCTION
if selected == 'GiriÅŸ':
    count = st_autorefresh(interval=refresh_rate * 1000, key="slideshow")
    col1, col2 = st.columns([2, 8])
    with col1:
        st.image("Logo.png", width=165)
    with col2:
        st.title("Laptop Fiyat Tahmini ve Ã–neri Sistemi")
    st.header("GiriÅŸ")


    slide_index = count % len(slide_images)
    slide_image = Image.open(slide_images[slide_index])
    slide_image = slide_image.resize((400, 250))
    st.image(slide_image, use_column_width=True)
    st.markdown("""
Teknoloji ve internetin hÄ±zla yayÄ±lmasÄ±, dizÃ¼stÃ¼ bilgisayar gibi elektronik cihazlarÄ±n hayatÄ±mÄ±zdaki Ã¶nemini artÄ±rmÄ±ÅŸtÄ±r. KullanÄ±cÄ±larÄ±n, Ã§eÅŸitli Ã¶zelliklere ve fiyat aralÄ±klarÄ±na sahip laptoplar arasÄ±ndan en uygun olanÄ±nÄ± seÃ§mesi, karmaÅŸÄ±k ve zaman alÄ±cÄ± bir sÃ¼reÃ§ olabilir. Bu proje, kullanÄ±cÄ±larÄ±n ihtiyaÃ§larÄ±na ve bÃ¼tÃ§elerine en uygun laptoplarÄ± Ã¶nermek amacÄ±yla geliÅŸtirilmiÅŸtir.

Proje kapsamÄ±nda, bir laptop fiyat tahmin ve Ã¶neri sistemi oluÅŸturulmuÅŸtur. Sistem, Ã§eÅŸitli donanÄ±m ve yazÄ±lÄ±m Ã¶zellikleri gÃ¶z Ã¶nÃ¼nde bulundurarak kullanÄ±cÄ±ya en uygun laptop seÃ§eneklerini sunmayÄ± hedefler. KullanÄ±cÄ±larÄ±n tercihlerini ve beklentilerini dikkate alarak, en uygun fiyat-performans oranÄ±na sahip laptoplarÄ± belirlemeye Ã§alÄ±ÅŸÄ±r.

Bu Ã§alÄ±ÅŸmada, veri bilimi ve makine Ã¶ÄŸrenimi yÃ¶ntemleri kullanÄ±larak laptoplarÄ±n fiyatlarÄ± tahmin edilmekte ve kullanÄ±cÄ±ya Ã¶nerilerde bulunulmaktadÄ±r. Proje, Ã¶zellikle teknolojik cihaz satÄ±n alÄ±rken doÄŸru bilgiye hÄ±zlÄ± ve etkili bir ÅŸekilde ulaÅŸmak isteyen kullanÄ±cÄ±lar iÃ§in bÃ¼yÃ¼k bir kolaylÄ±k saÄŸlamayÄ± amaÃ§lamaktadÄ±r.
    """)

    st.markdown(""" ### AmaÃ§lar
    - KullanÄ±cÄ± Ä°htiyaÃ§larÄ±na Uygun Ã–neriler Sunma: KullanÄ±cÄ±larÄ±n belirlediÄŸi donanÄ±m ve yazÄ±lÄ±m Ã¶zelliklerine gÃ¶re en uygun laptop seÃ§eneklerini Ã¶nerme.
    - Fiyat Tahmini: Makine Ã¶ÄŸrenimi modelleri kullanarak, laptoplarÄ±n piyasa fiyatlarÄ±nÄ± tahmin etme.
    - KullanÄ±cÄ± Dostu ArayÃ¼z: KullanÄ±cÄ±larÄ±n kolayca kullanabileceÄŸi, anlaÅŸÄ±lÄ±r ve etkileÅŸimli bir web arayÃ¼zÃ¼ saÄŸlama.
    - Veri Analizi ve GÃ¶rselleÅŸtirme: Toplanan verileri analiz ederek, kullanÄ±cÄ±ya anlamlÄ± bilgiler sunma ve bu bilgileri gÃ¶rselleÅŸtirme.
    """)

    image1= Image.open("introduction.PNG")
    width, height = image1.size
    image1 = image1.resize((600, 300))
    st.image(image1)


    st.markdown("""
        ### Veri Seti
Bu projede kullanÄ±lan veri seti, TÃ¼rkiye'nin Ã¶nde gelen e-ticaret sitelerinden Trendyol'dan web scraping yÃ¶ntemiyle elde edilmiÅŸtir. Web scraping sÃ¼reci boyunca, dizÃ¼stÃ¼ bilgisayarlarÄ±n Ã§eÅŸitli donanÄ±m ve yazÄ±lÄ±m Ã¶zellikleri ile fiyatlarÄ±na iliÅŸkin veriler toplanmÄ±ÅŸtÄ±r.

Toplanan verilerin gÃ¼venilirliÄŸini ve doÄŸruluÄŸunu artÄ±rmak amacÄ±yla, yalnÄ±zca kullanÄ±cÄ±lar tarafÄ±ndan derecelendirilmiÅŸ laptoplar analize dahil edilmiÅŸtir. ÃœrÃ¼n derecelendirmesi olmayan kayÄ±tlar Ã§Ä±karÄ±larak, sadece kullanÄ±cÄ± geri bildirimlerine sahip Ã¼rÃ¼nler Ã¼zerinden deÄŸerlendirme yapÄ±lmasÄ± saÄŸlanmÄ±ÅŸtÄ±r.
        """)

    image2= Image.open("trendyol.jpeg")
    width, height = image2.size
    image2 = image2.resize((600, 300))
    st.image(image2, caption='Trendyol')

################################EDA#####################################

elif selected == 'EDA':
    col1, col2 = st.columns([2, 8])

    with col1:
        st.image("Logo.png", width=185)
    with col2:
        # BaÅŸlÄ±k ve AÃ§Ä±klama
        st.markdown("<h1 style='margin-top: 40px;'>EDA</h1>", unsafe_allow_html=True)

    df_c = get_cleaned_data()
    df_raw = get_raw_data()
    st.header("Veri Seti Ä°ncelemesi")

    dataset_choice = st.radio("Ä°ncelemek Ä°Ã§in Veri Seti SeÃ§iniz", ("Ä°ÅŸlenmemiÅŸ Veri Seti", "Ä°ÅŸlenmiÅŸ Veri Seti"))

    if dataset_choice == "Ä°ÅŸlenmemiÅŸ Veri Seti":
            if st.button("Head"):
                st.write(df_raw.head())

            if st.button("Tail"):
                st.write(df_raw.tail())

            if st.button("TÃ¼m veriyi gÃ¶ster"):
                st.dataframe(df_raw)

    elif dataset_choice == "Ä°ÅŸlenmiÅŸ Veri Seti":
        if st.button("Head"):
            st.write(df_c.head())
        if st.button("Tail"):
            st.write(df_c.tail())
        if st.button("TÃ¼m veriyi gÃ¶ster"):
            st.dataframe(df_c)

    st.header("Veri Seti Ã–zeti")
    if st.button("Ä°ÅŸlenmemiÅŸ veri seti"):
        st.write(summary_table(df_raw))
        cat_cols, num_cols, cat_but_car = grab_col_names(df_raw)
        df_cat_cols = pd.DataFrame({"Kategorik SÃ¼tunlar": cat_cols})
        df_num_cols = pd.DataFrame({"SayÄ±sal SÃ¼tunlar": num_cols})
        df_car_cols = pd.DataFrame({"Kardinal SÃ¼tunlar": cat_but_car})
        col1, col2, col3 = st.columns(3)
        with col1:
            st.write(df_cat_cols)

        with col2:
            st.write(df_num_cols)

        with col3:
            st.write(df_car_cols)


    if st.button("Ä°ÅŸlenmiÅŸ veri seti"):
        st.write(summary_table(df_c))
        cat_cols, num_cols, cat_but_car = grab_col_names(df_c)
        df_cat_cols = pd.DataFrame({"Kategorik SÃ¼tunlar": cat_cols})
        df_num_cols = pd.DataFrame({"SayÄ±sal SÃ¼tunlar": num_cols})
        df_car_cols = pd.DataFrame({"Kardinal SÃ¼tunlar": cat_but_car})
        col1, col2, col3 = st.columns(3)
        with col1:
            st.write(df_cat_cols)

        with col2:
            st.write(df_num_cols)

        with col3:
            st.write(df_car_cols)

    st.header("Scatter Plot")
    cat_cols, num_cols, cat_but_car = grab_col_names(df_c)
    x_axis = st.selectbox('X', num_cols)
    y_axis = st.selectbox('Y', num_cols)
    fig, ax = plt.subplots(figsize=(10, 6))
    sns.scatterplot(x=df_c[x_axis], y=df_c[y_axis], ax=ax, color="#384959")
    plt.title(f'Scatter Plot: {x_axis} vs. {y_axis}', fontsize=15)
    plt.xlabel(x_axis, fontsize=14)
    plt.ylabel(y_axis, fontsize=14)
    plt.grid(True)
    plt.tight_layout()
    st.pyplot(fig)

    st.header("SayÄ±sal SÃ¼tun Analizi")
    selected_col = st.selectbox('Bir sÃ¼tun seÃ§iniz', num_cols)
    num_summary(df_c, selected_col, plot=True)

    st.header("Hedef DeÄŸiÅŸken ve Kategorik DeÄŸiÅŸkenler")
    target = 'ÃœrÃ¼n FiyatÄ± (TL)'  # Hedef deÄŸiÅŸkenin adÄ±

    selected_column = st.selectbox('LÃ¼tfen bir kategorik sÃ¼tun seÃ§in', cat_cols)

    fig, ax = plt.subplots(figsize=(10, 6))
    sns.barplot(x=df[selected_column], y=df[target], ax=ax, ci=None, color="#384959")
    plt.title(f'{selected_column} SÃ¼tunu ile {target} ArasÄ±ndaki Ä°liÅŸki', fontsize=15)
    plt.xlabel(selected_column, fontsize=14)
    plt.ylabel(target, fontsize=14)
    plt.xticks(rotation=45)
    plt.grid(True)
    plt.tight_layout()
    st.pyplot(fig)

    st.header("Fiyat AralÄ±ÄŸÄ± ve SayÄ±sal SÃ¼tunlar")
    price_range = 'Fiyat AralÄ±ÄŸÄ±'

    selected_num_column = st.selectbox('LÃ¼tfen bir sayÄ±sal sÃ¼tun seÃ§in', num_cols)


    fig, ax = plt.subplots(figsize=(10, 6))
    sns.barplot(x=df_c[price_range], y=df_c[selected_num_column], ax=ax, ci=None, color="#384959")
    plt.title(f'{price_range} ile {selected_num_column} ArasÄ±ndaki Ä°liÅŸki', fontsize=15)
    plt.xlabel(price_range, fontsize=14)
    plt.ylabel(selected_num_column, fontsize=14)
    plt.xticks(rotation=45)
    plt.grid(True)
    plt.tight_layout()
    st.pyplot(fig)

    st.header("ÃœrÃ¼n ve MÃ¼ÅŸteri")
    selected_feature = st.selectbox('Bir Ã¶zellik seÃ§in ve gÃ¶rselleÅŸtirin:',
                                    ['ÃœrÃ¼n PuanÄ±', 'ÃœrÃ¼n Favorisi', 'ÃœrÃ¼n Puan SayÄ±sÄ±'])


    fig, ax = plt.subplots(figsize=(10, 6))
    sns.barplot(x='ÃœrÃ¼n MarkasÄ±', y=selected_feature, data=df_c, ax=ax, palette='viridis')
    ax.set_title(f'{selected_feature} by Product', fontsize=15)
    ax.set_xlabel('ÃœrÃ¼n MarkasÄ±', fontsize=14)
    ax.set_ylabel(selected_feature, fontsize=14)
    plt.xticks(rotation=45)
    plt.grid(True)
    plt.tight_layout()
    st.pyplot(fig)


    def corr_map(df_c, width=14, height=6, annot_kws=15):
        # Sadece sayÄ±sal sÃ¼tunlarÄ± seÃ§me
        numeric_df = df_c.select_dtypes(include=[np.number])
        mtx = np.triu(numeric_df.corr())
        f, ax = plt.subplots(figsize=(width, height))
        sns.heatmap(numeric_df.corr(),
                    annot=True,
                    fmt=".2f",
                    ax=ax,
                    vmin=-1,  # Minimum korelasyon deÄŸeri (-1 tam negatif korelasyon)
                    vmax=1,  # Maksimum korelasyon deÄŸeri (1 tam pozitif korelasyon)
                    cmap="RdBu",  # Renk haritasÄ± (RdBu: kÄ±rmÄ±zÄ±-mavi)
                    mask=mtx,
                    linewidths=0.5,
                    linecolor='black',
                    cbar_kws={"shrink": .8},
                    annot_kws={"size": annot_kws})
        plt.yticks(rotation=0)
        plt.xticks(rotation=45, ha="right")
        plt.title('Correlation Map', size=20)
        plt.tight_layout()
        st.pyplot(f)

    st.header("Korelasyon Analizi")
    corr_map(df, width=14, height=8, annot_kws=10)

################Tavsiye[[[[[[[[[[[[[[[[[[[
elif selected == 'Tavsiye Sistemi':
    col1, col2 = st.columns([2, 7])

    with col1:
        st.image("Logo.png", width=185)
    with col2:
        # BaÅŸlÄ±k ve AÃ§Ä±klama
        st.markdown("<h1 style='margin-top: 40px;'>Tavsiye Sistemi</h1>", unsafe_allow_html=True)

    # Veri setini yÃ¼kle
    df = pd.read_csv('datasets/cleaneed_3.csv')

    # BaÅŸlÄ±k ve aÃ§Ä±klama
    st.write('Bu sayfada, bilgisayar performansÄ±yla ilgili deÄŸerleri seÃ§ebilir ve filtreleme/sÄ±ralama yapabilirsiniz.')

    # Filtreleme seÃ§eneÄŸi
    st.subheader('Filtreleme SeÃ§eneÄŸi')
    brand_options = ['TÃ¼mÃ¼'] + df['ÃœrÃ¼n MarkasÄ±'].unique().tolist()
    performance_options = ['TÃ¼mÃ¼'] + df['performance_level'].unique().tolist()
    usage_options = ['TÃ¼mÃ¼'] + df['KullanÄ±m AmacÄ±'].unique().tolist()


    selected_brands = st.multiselect('ÃœrÃ¼n MarkasÄ±', brand_options, ['TÃ¼mÃ¼'])
    selected_performance = st.multiselect('Performance', performance_options, ['TÃ¼mÃ¼'])
    selected_usage = st.multiselect('KullanÄ±m AmacÄ±', usage_options, ['TÃ¼mÃ¼'])

    price_range = st.slider('Fiyat AralÄ±ÄŸÄ± (TL)', float(df['ÃœrÃ¼n FiyatÄ± (TL)'].min()),
                            float(df['ÃœrÃ¼n FiyatÄ± (TL)'].max()),
                            (float(df['ÃœrÃ¼n FiyatÄ± (TL)'].min()), float(df['ÃœrÃ¼n FiyatÄ± (TL)'].max())))

    # SÄ±ralama seÃ§eneÄŸi
    st.subheader('SÄ±ralama SeÃ§eneÄŸi')
    sort_by = st.selectbox('SÄ±ralama Ã–lÃ§Ã¼tÃ¼', ['ÃœrÃ¼n Rating', 'ÃœrÃ¼n FiyatÄ± (TL)'])
    sort_order = st.radio('SÄ±ralama YÃ¶nÃ¼', ['Artan', 'Azalan'])

    # FiltrelenmiÅŸ veri setini oluÅŸtur
    # FiltrelenmiÅŸ veri setini oluÅŸtur
    filtered_df = df.copy()
    if 'TÃ¼mÃ¼' not in selected_brands:
        filtered_df = filtered_df[filtered_df['ÃœrÃ¼n MarkasÄ±'].isin(selected_brands)]
    if 'TÃ¼mÃ¼' not in selected_performance:
        filtered_df = filtered_df[filtered_df['performance_level'].isin(selected_performance)]
    if 'TÃ¼mÃ¼' not in selected_usage:
        filtered_df = filtered_df[filtered_df['KullanÄ±m AmacÄ±'].isin(selected_usage)]
    filtered_df = filtered_df[
        (filtered_df['ÃœrÃ¼n FiyatÄ± (TL)'] >= price_range[0]) & (filtered_df['ÃœrÃ¼n FiyatÄ± (TL)'] <= price_range[1])]

    # FiltrelenmiÅŸ veri setini sÄ±rala
    if sort_by == 'ÃœrÃ¼n Rating':
        sorted_df = filtered_df.sort_values(by='ÃœrÃ¼n Rating', ascending=sort_order == 'Azalan')
    else:
        sorted_df = filtered_df.sort_values(by='ÃœrÃ¼n FiyatÄ± (TL)', ascending=sort_order == 'Artan')

    # SonuÃ§larÄ± gÃ¶ster
    st.subheader('FiltrelenmiÅŸ ve SÄ±ralanmÄ±ÅŸ SonuÃ§lar')
    st.write(f"Toplam {len(sorted_df)} Ã¼rÃ¼n bulundu.")

    st.write("ÃœrÃ¼n URL | ÃœrÃ¼n MarkasÄ± | Ekran KartÄ± | Ä°ÅŸlemci Nesli | ÃœrÃ¼n FiyatÄ± (TL)")

    for i, (_, row) in enumerate(
            sorted_df[['ÃœrÃ¼n URL', 'ÃœrÃ¼n MarkasÄ±', 'Ekran KartÄ±', 'Ä°ÅŸlemci Nesli', 'ÃœrÃ¼n FiyatÄ± (TL)']].head(
                5).iterrows()):
        st.write(
            f"{i + 1}.  [ÃœrÃ¼n AdÄ±]({row['ÃœrÃ¼n URL']}) | {row['ÃœrÃ¼n MarkasÄ±']} | {row['Ekran KartÄ±']} | {row['Ä°ÅŸlemci Nesli']} | {row['ÃœrÃ¼n FiyatÄ± (TL)']} TL")

#########MODEL TAHMÄ°NÄ°
elif selected == 'Model Tahmini':
    col1, col2 = st.columns([2, 7])

    with col1:
        st.image("Logo.png", width=185)
    with col2:
        st.markdown("<h1 style='margin-top: 40px;'>Model Tahmini</h1>", unsafe_allow_html=True)


    def load_model(modelfile):
        loaded_model = pickle.load(open(modelfile, 'rb'))
        return loaded_model

    model_option = st.selectbox(
        "Model SeÃ§iniz:",
        ("Ridge", "CatBoost", "ElasticNet", "SVR", "XGBoost")
    )


    dff = pd.read_csv("datasets/all_cleaned.csv")

    with st.expander(" â„¹ï¸ Ã–zellikler HakkÄ±nda Bilgi", expanded=False):
        st.write("""
                       
                <ul>
                    <li>ÃœrÃ¼n MarkasÄ± - Laptop markasÄ± (Ã–rn: ASUS, Lenovo, HP). Marka, genellikle Ã¼rÃ¼nÃ¼n kalitesi ve mÃ¼ÅŸteri desteÄŸi ile iliÅŸkilidir. ğŸ–ï¸</li>
                    <li>Ä°ÅŸletim Sistemi - CihazÄ±n iÅŸletim sistemi (Ã–rn: Windows, Mac OS, Linux). KullanÄ±cÄ± deneyimi ve yazÄ±lÄ±m uyumluluÄŸu Ã¼zerinde bÃ¼yÃ¼k etkisi vardÄ±r. ğŸ’»</li>
                    <li>Ä°ÅŸlemci Tipi - CihazÄ±n iÅŸlemci tÃ¼rÃ¼ (Ã–rn: Intel Core i7, AMD Ryzen 5). Performans ve enerji verimliliÄŸi aÃ§Ä±sÄ±ndan Ã¶nemlidir. ğŸ”‹</li>
                    <li>Ä°ÅŸlemci Nesli - Ä°ÅŸlemcinin nesli (Ã–rn: 10. Nesil, Ryzen 3000 Serisi). Daha yeni nesiller genellikle daha hÄ±zlÄ± ve verimlidir. ğŸš€</li>
                    <li>Ekran KartÄ± - CihazÄ±n ekran kartÄ± (Ã–rn: Nvidia GeForce GTX 1650). Grafik performansÄ± ve oyun deneyimi iÃ§in kritiktir. ğŸ®</li>
                    <li>KullanÄ±m AmacÄ± - Laptopun kullanÄ±m amacÄ± (Ã–rn: Oyun, Ofis - Ä°ÅŸ). Bu, cihazÄ±n hangi kullanÄ±cÄ±lar iÃ§in uygun olduÄŸunu belirler. ğŸ–¥ï¸</li>
                    <li>Ekran Boyutu (inch) - Laptop ekran boyutu (Ã–rn: 13.3, 15.6). TaÅŸÄ±nabilirlik ve kullanÄ±m alanÄ± arasÄ±ndaki dengeyi etkiler. ğŸ“</li>
                    <li>Ram (GB) - CihazÄ±n RAM kapasitesi (Ã–rn: 8 GB, 16 GB, vb.). Ã‡oklu gÃ¶revlerde ve yoÄŸun uygulamalarda performansÄ± belirler. ğŸ§ </li>
                    <li>SSD Kapasitesi (GB) - CihazÄ±n SSD kapasitesi (Ã–rn: 256 GB, 512 GB, vb.). Depolama kapasitesi ve hÄ±z aÃ§Ä±sÄ±ndan Ã¶nemlidir. ğŸ’¾</li>
                    <li>Ä°ÅŸlemci Ã‡ekirdek SayÄ±sÄ± - Ä°ÅŸlemcinin sahip olduÄŸu Ã§ekirdek sayÄ±sÄ± (Ã–rn: 4, 6, 8, vb.). Daha fazla Ã§ekirdek, daha fazla paralel iÅŸlem kapasitesi sunar. ğŸ”¢</li>
                    <li>AydÄ±nlatma Durumu - Klavyede aydÄ±nlatma durumu (AydÄ±nlatmalÄ±: 1, AydÄ±nlatmasÄ±z/BelirtilmemiÅŸ: 0). Gece kullanÄ±mÄ± ve estetik aÃ§Ä±sÄ±ndan Ã¶nemlidir. ğŸŒ™</li>
                    <li>HDMI - HDMI baÄŸlantÄ± noktasÄ± var mÄ± (Var: 1, Yok: 0). Harici ekran baÄŸlantÄ±sÄ± iÃ§in gereklidir. ğŸ“º</li>
                    <li>Dokunmatik Ekran - Dokunmatik ekran var mÄ± (Var: 1, Yok: 0). KullanÄ±cÄ± etkileÅŸimini artÄ±rÄ±r ve esneklik saÄŸlar. ğŸ–ï¸</li>
                </ul>
                <p><strong>ğŸ“¢â—ğŸš¨UnutmayÄ±n, SSD kapasitesi, RAM miktarÄ± ve iÅŸlemci Ã§ekirdek sayÄ±sÄ±, fiyat tahmininde Ã¶nemli bir rol oynar. Bu bileÅŸenler, cihazÄ±n genel performansÄ±nÄ± ve deÄŸerini belirlemede kritik Ã¶neme sahiptir.â—</strong></p>
                    """, unsafe_allow_html=True)

    st.subheader("Fiyat tahmini iÃ§in bilgileri giriniz ğŸ’»ğŸ“ŠğŸ”")


    # KullanÄ±cÄ±dan verileri alma
    # KullanÄ±cÄ±dan verileri alma
    urun_markasi = st.selectbox("ÃœrÃ¼n MarkasÄ±", dff["ÃœrÃ¼n MarkasÄ±"].unique())


    isletim_sistemi = st.selectbox("Ä°ÅŸletim Sistemi",
                                   dff[dff["ÃœrÃ¼n MarkasÄ±"] == urun_markasi]["Ä°ÅŸletim Sistemi"].unique())


    islemci_tipi = st.selectbox("Ä°ÅŸlemci Tipi", dff[
        (dff["ÃœrÃ¼n MarkasÄ±"] == urun_markasi) & (dff["Ä°ÅŸletim Sistemi"] == isletim_sistemi)]["Ä°ÅŸlemci Tipi"].unique())


    islemci_nesli = st.selectbox("Ä°ÅŸlemci Nesli", dff[
        (dff["ÃœrÃ¼n MarkasÄ±"] == urun_markasi) & (dff["Ä°ÅŸletim Sistemi"] == isletim_sistemi) & (
                    dff["Ä°ÅŸlemci Tipi"] == islemci_tipi)]["Ä°ÅŸlemci Nesli"].unique())
    ekran_karti = st.selectbox("Ekran KartÄ±", dff[(dff["ÃœrÃ¼n MarkasÄ±"] == urun_markasi) & (dff["Ä°ÅŸletim Sistemi"] == isletim_sistemi) & (dff["Ä°ÅŸlemci Tipi"] == islemci_tipi) & (dff["Ä°ÅŸlemci Nesli"] == islemci_nesli)]["Ekran KartÄ±"].unique())
    kullanim_amaci = st.selectbox("KullanÄ±m AmacÄ±", dff["KullanÄ±m AmacÄ±"].unique())
    ekran_boyutu = st.selectbox("Ekran Boyutu (inch)", dff["Ekran Boyutu (inch)"].unique())

    ram = st.selectbox("Ram (GB)", dff["Ram (GB)"].unique())

    ssd_kapasitesi = st.selectbox("SSD Kapasitesi (GB)",  dff["SSD Kapasitesi (GB)"].unique())
    islemci_cekirdek_sayisi = st.selectbox("Ä°ÅŸlemci Ã‡ekirdek SayÄ±sÄ±", dff["Ä°ÅŸlemci Ã‡ekirdek SayÄ±sÄ±"].unique())

    klavye_aydinlatmasi = st.selectbox("AydÄ±nlatma Durumu", dff["AydÄ±nlatma Durumu"].unique())
    hdmi = st.selectbox("HDMI", dff["HDMI"].unique())
    dokunmatik_ekran = st.selectbox("Dokunmatik Ekran", dff["Dokunmatik Ekran"].unique())



    input_data = {
        "ÃœrÃ¼n MarkasÄ±": urun_markasi,
        "Ä°ÅŸletim Sistemi": isletim_sistemi,
        "Ä°ÅŸlemci Tipi": islemci_tipi,
        "Ä°ÅŸlemci Nesli": islemci_nesli,
        "Ekran KartÄ±": ekran_karti,
        "KullanÄ±m AmacÄ±": kullanim_amaci,
        "Ekran Boyutu (inch)": ekran_boyutu,
        "Ram (GB)": ram,
        "SSD Kapasitesi (GB)": ssd_kapasitesi,
        "Ä°ÅŸlemci Ã‡ekirdek SayÄ±sÄ±": islemci_cekirdek_sayisi,
        "AydÄ±nlatma Durumu": klavye_aydinlatmasi,
        "HDMI": hdmi,
        "Dokunmatik Ekran": dokunmatik_ekran,
    }

    #st.write("KullanÄ±cÄ± Girdileri:", input_data)


    input_data = pd.DataFrame([input_data])


    input_data = pd.get_dummies(input_data, columns=["ÃœrÃ¼n MarkasÄ±", "Ä°ÅŸletim Sistemi", "Ä°ÅŸlemci Tipi",
                                            "Ä°ÅŸlemci Nesli","KullanÄ±m AmacÄ±"], drop_first=True)


    input_data = pd.get_dummies(input_data)


    features = ['Ekran Boyutu (inch)', 'Ram (GB)', 'SSD Kapasitesi (GB)', 'Ä°ÅŸlemci Ã‡ekirdek SayÄ±sÄ±',
                 'AydÄ±nlatma Durumu', 'HDMI', 'Dokunmatik Ekran', 'ÃœrÃ¼n MarkasÄ±_ASUS', 'ÃœrÃ¼n MarkasÄ±_Apple',
                 'ÃœrÃ¼n MarkasÄ±_CASPER', 'ÃœrÃ¼n MarkasÄ±_Dell', 'ÃœrÃ¼n MarkasÄ±_Game Garaj', 'ÃœrÃ¼n MarkasÄ±_Gigabyte',
                 'ÃœrÃ¼n MarkasÄ±_HP', 'ÃœrÃ¼n MarkasÄ±_Hometech', 'ÃœrÃ¼n MarkasÄ±_Honor', 'ÃœrÃ¼n MarkasÄ±_Huawei',
                 'ÃœrÃ¼n MarkasÄ±_I-Life', 'ÃœrÃ¼n MarkasÄ±_LENOVO', 'ÃœrÃ¼n MarkasÄ±_MONSTER', 'ÃœrÃ¼n MarkasÄ±_MSI',
                 'ÃœrÃ¼n MarkasÄ±_Onda', 'ÃœrÃ¼n MarkasÄ±_Technopc', 'Ä°ÅŸletim Sistemi_FreeDos', 'Ä°ÅŸletim Sistemi_Linux',
                 'Ä°ÅŸletim Sistemi_Mac Os', 'Ä°ÅŸletim Sistemi_Ubuntu', 'Ä°ÅŸletim Sistemi_Windows', 'Ä°ÅŸlemci Tipi_AMD Ryzen 3',
                 'Ä°ÅŸlemci Tipi_AMD Ryzen 5', 'Ä°ÅŸlemci Tipi_AMD Ryzen 7', 'Ä°ÅŸlemci Tipi_AMD Ryzen 9', 'Ä°ÅŸlemci Tipi_Apple M1',
                 'Ä°ÅŸlemci Tipi_Apple M1 Pro', 'Ä°ÅŸlemci Tipi_Apple M2', 'Ä°ÅŸlemci Tipi_Apple M2 Max', 'Ä°ÅŸlemci Tipi_Apple M2 Pro',
                 'Ä°ÅŸlemci Tipi_Apple M3', 'Ä°ÅŸlemci Tipi_Apple M3 Pro', 'Ä°ÅŸlemci Tipi_Intel Celeron', 'Ä°ÅŸlemci Tipi_Intel Core Ultra',
                 'Ä°ÅŸlemci Tipi_Intel Core i3', 'Ä°ÅŸlemci Tipi_Intel Core i5', 'Ä°ÅŸlemci Tipi_Intel Core i7', 'Ä°ÅŸlemci Tipi_Intel Core i9',
                 'Ä°ÅŸlemci Tipi_Intel Pentium', 'Ä°ÅŸlemci Nesli_11. Nesil', 'Ä°ÅŸlemci Nesli_12. Nesil', 'Ä°ÅŸlemci Nesli_13. Nesil',
                 'Ä°ÅŸlemci Nesli_14. Nesil', 'Ä°ÅŸlemci Nesli_5. Nesil', 'Ä°ÅŸlemci Nesli_7. Nesil', 'Ä°ÅŸlemci Nesli_8. Nesil', 'Ä°ÅŸlemci Nesli_9. Nesil',
                 'Ä°ÅŸlemci Nesli_Apollo Lake', 'Ä°ÅŸlemci Nesli_Athlon 3000 Serisi', 'Ä°ÅŸlemci Nesli_Gemini Lake', 'Ä°ÅŸlemci Nesli_Gemini Lake Refresh',
                 'Ä°ÅŸlemci Nesli_Jasper Lake', 'Ä°ÅŸlemci Nesli_M serisi', 'Ä°ÅŸlemci Nesli_Ryzen 3000 Serisi', 'Ä°ÅŸlemci Nesli_Ryzen 4000 Serisi',
                 'Ä°ÅŸlemci Nesli_Ryzen 5000 Serisi', 'Ä°ÅŸlemci Nesli_Ryzen 6000 Serisi', 'Ä°ÅŸlemci Nesli_Ryzen 7000 Serisi', 'Ä°ÅŸlemci Nesli_Ryzen 8000 Serisi',
                 'Ekran KartÄ±_AMD Radeon RX 5500M', 'Ekran KartÄ±_AMD Radeon RX6500M', 'Ekran KartÄ±_Dahili Ekran KartÄ±', 'Ekran KartÄ±_Intel Graphics',
                 'Ekran KartÄ±_M1 7-Ã‡ekirdekli GPU', 'Ekran KartÄ±_M1 8-Ã‡ekirdekli GPU', 'Ekran KartÄ±_M1 Pro 16-Ã‡ekirdekli GPU', 'Ekran KartÄ±_M2 10-Ã‡ekirdekli GPU',
                 'Ekran KartÄ±_M2 38-Ã‡ekirdekli GPU', 'Ekran KartÄ±_M2 8-Ã‡ekirdekli GPU', 'Ekran KartÄ±_M2 Pro 16-Ã‡ekirdekli GPU',
                 'Ekran KartÄ±_M2 Pro 19-Ã‡ekirdekli GPU', 'Ekran KartÄ±_M3 10-Ã‡ekirdekli GPU', 'Ekran KartÄ±_M3 18-Ã‡ekirdekli GPU',
                 'Ekran KartÄ±_M3 8-Ã‡ekirdekli GPU', 'Ekran KartÄ±_Nvidia GeForce GTX 1650', 'Ekran KartÄ±_Nvidia GeForce GTX 1650 Ti',
                 'Ekran KartÄ±_Nvidia GeForce MX130', 'Ekran KartÄ±_Nvidia GeForce MX350', 'Ekran KartÄ±_Nvidia GeForce MX450',
                 'Ekran KartÄ±_Nvidia GeForce MX550', 'Ekran KartÄ±_Nvidia GeForce RTX 2050', 'Ekran KartÄ±_Nvidia GeForce RTX 3050',
                 'Ekran KartÄ±_Nvidia GeForce RTX 3050 Ti', 'Ekran KartÄ±_Nvidia GeForce RTX 3070', 'Ekran KartÄ±_Nvidia GeForce RTX 3070Ti',
                 'Ekran KartÄ±_Nvidia GeForce RTX 3080', 'Ekran KartÄ±_Nvidia GeForce RTX 4050', 'Ekran KartÄ±_Nvidia GeForce RTX 4060',
                 'Ekran KartÄ±_Nvidia GeForce RTX 4070', 'Ekran KartÄ±_Nvidia GeForce RTX 4080', 'Ekran KartÄ±_Nvidia GeForce RTX 4090',
                 'Ekran KartÄ±_Nvidia GeForce RTX A2000', 'Ekran KartÄ±_Nvidia GeForce RTX A500', 'Ekran KartÄ±_Nvidia GeForce RTX3060',
                 'KullanÄ±m AmacÄ±_Ofis - Ä°ÅŸ', 'KullanÄ±m AmacÄ±_Oyun', 'KullanÄ±m AmacÄ±_TasarÄ±m']



    for col in features:
        if col not in input_data.columns:
            input_data[col] = 0


    input_data = input_data[features]

    results = input_data.values

    if st.button("Tahmin Et"):
        if  model_option == "CatBoost":
            model = load_model("model/catboost_model.pkl")
            prediction = model.predict(results)
            st.write("Tahmin Sonucu:", prediction)
            st.success(f"Tahmin edilen fiyat: {float(prediction[0]):,.2f} TL")

        elif model_option == "Ridge":
            model = load_model("model/ridge_regression_model.pkl")
            prediction = model.predict(results)
            st.write("Tahmin Sonucu:", prediction)
            st.success(f"Tahmin edilen fiyat: {float(prediction[0]):,.2f} TL")

        elif model_option == "ElasticNet":
            model = load_model("model/elasticnet_model.pkl")
            prediction = model.predict(results)
            st.write("Tahmin Sonucu:", prediction)
            st.success(f"Tahmin edilen fiyat: {float(prediction[0]):,.2f} TL")

        elif model_option == "SVR":
            model = load_model("model/svr_model.pkl")
            prediction = model.predict(results)
            st.write("Tahmin Sonucu:", prediction)
            st.success(f"Tahmin edilen fiyat: {float(prediction[0]):,.2f} TL")

        elif model_option == "XGBoost":
            model = load_model("model/xgboost_model.pkl")
            prediction = model.predict(results)
            st.write("Tahmin Sonucu:", prediction)
            st.success(f"Tahmin edilen fiyat: {float(prediction[0]):,.2f} TL")

#############Model DeÄŸerlendirmesi##################
elif selected == 'Model DeÄŸerlendirmesi':
    col1, col2 = st.columns([2, 8])

    with col1:
        st.image("Logo.png", width=185)
    with col2:
        st.markdown("<h1 style='margin-top: 40px;'>Model DeÄŸerlendirmesi</h1>", unsafe_allow_html=True)
    st.markdown("""Bu bÃ¶lÃ¼mde, farklÄ± modellerin performans sonuÃ§larÄ± hakkÄ±nda bilgiler verilecektir.""")

    st.markdown("""
              ### BaÅŸarÄ± Metrikleri""")
    image1 = "model_evaluation/maepng.png"
    image2 = "model_evaluation/r2.png"
    image3 = "model_evaluation/rmse.png"

    # Her resmi ortalamak iÃ§in boÅŸ sÃ¼tunlar kullanarak dÃ¼zen oluÅŸturma
    col1, col2, col3 = st.columns([1, 2, 1])  # Ortadaki kolon daha geniÅŸ, bu yÃ¼zden 2 ile Ã§arpÄ±ldÄ±

    with col1:
        st.write("")  # BoÅŸluk bÄ±rakma

    with col2:
        st.image(image1, use_column_width=True)
        st.image(image2, use_column_width=True)
        st.image(image3, use_column_width=True)

    with col3:
        st.write("")
    model_option = st.selectbox(
        "SonuÃ§lar iÃ§in model seÃ§iniz.",
        ("Ridge", "CatBoost",  "SVR", "ElasticNet", "XGBoost"))
    if model_option == "Ridge":
        st.markdown("""### Model SonuÃ§larÄ±:""")


        col1, col2,col3 = st.columns([1, 1,1])
        with col1:
            st.markdown("""Base Model""")
            rf_res = {
                'Metric': ["RMSE", "MAE", "R2"],
                'Result': [8.3, 4.81, 8.46]
            }
            rfres1 = pd.DataFrame(rf_res)
            st.write(rfres1)
        with col2:
            st.markdown("""HP Ã–nce""")
            rf_res = {
                'Metric': ["RMSE", "MAE", "R2"],
                'Result': [7680, 4958, 0.86]
            }
            rfres1 = pd.DataFrame(rf_res)
            st.write(rfres1)
        with col3:
            st.markdown("""HP Sonra""")
            rf_res = {
                'Metric': ["RMSE", "MAE", "R2"],
                'Result': [9173, 5613, 0.87]
            }
            rfres1 = pd.DataFrame(rf_res)
            st.write(rfres1)


    if model_option == "CatBoost":
        st.markdown("""### Model SonuÃ§larÄ±:""")


        col1, col2,col3 = st.columns([1, 1, 1])
        with col1:
            st.markdown("""Base Model""")
            rf_res = {
                'Metric': ["RMSE", "MAE", "R2"],
                'Result': [7.27, 4.733, 8.21]
            }
            rfres1 = pd.DataFrame(rf_res)
            st.write(rfres1)
        with col2:
            st.markdown("""HP Ã–nce""")
            rf_res = {
                'Metric': ["RMSE", "MAE", "R2"],
                'Result': [8071, 4425, 0.87]
            }
            rfres1 = pd.DataFrame(rf_res)
            st.write(rfres1)
        with col3:
            st.markdown("""HP Sonra""")
            rf_res = {
                'Metric': ["RMSE", "MAE", "R2"],
                'Result': [7380, 4226, 0.90]
            }
            rfres1 = pd.DataFrame(rf_res)
            st.write(rfres1)

    if model_option == "SVR":
        st.markdown("""### Model SonuÃ§larÄ±:""")

        col1, col2, col3 = st.columns([1, 1, 1])
        with col1:
            st.markdown("""Base Model""")
            rf_res = {
                'Metric': ["RMSE", "MAE", "R2"],
                'Result': [2.14, 1.44, -2.80]
            }
            rfres1 = pd.DataFrame(rf_res)
            st.write(rfres1)

        with col2:
            st.markdown("""HP Ã–nce""")
            rf_res = {
                'Metric': ["RMSE", "MAE", "R2"],
                'Result': [21132, 14041, -0.04]
            }
            rfres1 = pd.DataFrame(rf_res)
            st.write(rfres1)
        with col3:
            st.markdown("""HP Sonra""")
            rf_res = {
                'Metric': ["RMSE", "MAE", "R2"],
                'Result': [16151, 9248, 0.59]
            }
            rfres1 = pd.DataFrame(rf_res)
            st.write(rfres1)
    if model_option == "ElasticNet":
        st.markdown("""### Model SonuÃ§larÄ±:""")

        col1, col2,col3 = st.columns([1, 1, 1])
        with col1:
            st.markdown("""Base Model""")
            rf_res = {
                'Metric': ["RMSE", "MAE", "R2"],
                'Result': [1.47, 9.02, 5.16]
            }
            rfres1 = pd.DataFrame(rf_res)
            st.write(rfres1)
        with col2:
            st.markdown("""HP Ã–nce""")
            rf_res = {
                'Metric': ["RMSE", "MAE", "R2"],
                'Result': [11465, 7543, 0.68]
            }
            rfres1 = pd.DataFrame(rf_res)
            st.write(rfres1)
        with col3:
            st.markdown("""HP Sonra""")
            rf_res = {
                'Metric': ["RMSE", "MAE", "R2"],
                'Result': [10452, 6594, 0.82]
            }
            rfres1 = pd.DataFrame(rf_res)
            st.write(rfres1)
    if model_option == "XGBoost":
        st.markdown("""### XGBoost Model SonuÃ§larÄ±:""")
        col1, col2, col3 = st.columns([1, 1, 1])
        with col1:
            st.markdown("""Base Model""")
            rf_res = {
                'Metric': ["RMSE", "MAE", "R2"],
                'Result': [8.21, 4.03, 8.21]
            }
            rfres1 = pd.DataFrame(rf_res)
            st.write(rfres1)

        with col2:
            st.markdown("""HP Ã–nce""")
            rf_res = {
                'Metric': ["RMSE", "MAE", "R2"],
                'Result': [7394, 4341,  0.87]
            }
            rfres1 = pd.DataFrame(rf_res)
            st.write(rfres1)
        with col3:
            st.markdown("""HP Sonra""")
            rf_res = {
                'Metric': ["RMSE", "MAE", "R2"],
                'Result': [8174, 4540, 0.89]
            }
            rfres1 = pd.DataFrame(rf_res)
            st.write(rfres1)


# Ortadaki sÃ¼tun geniÅŸ tutulur

    model_names = ['CatBoost', 'Ridge', 'SVR', "ElasticNet", "XGBoost"]
    rmse_scores = [8071, 9173, 16151, 10452, 8174]
    mae_scores = [4422, 5613, 9248, 6594, 4540]
    r2_scores = [0.90, 0.87, 0.58, 0.83, 0.89]

    # DataFrame oluÅŸturma
    df_scores = pd.DataFrame({
        'Model': model_names,
        'RMSE': rmse_scores,
        'MAE': mae_scores,
        'R2': r2_scores
    })

    df_scores.set_index('Model', inplace=True)

    # RMSE Grafik
    fig, ax = plt.subplots(figsize=(10, 6))
    ax.bar(df_scores.index, df_scores['RMSE'], color='#abb9a4')
    ax.set_xlabel('Modeller')
    ax.set_ylabel('RMSE DeÄŸerleri')
    ax.set_title('Model RMSE PerformanslarÄ±')
    st.pyplot(fig)

    # MAE Grafik
    fig, ax = plt.subplots(figsize=(10, 6))
    ax.bar(df_scores.index, df_scores['MAE'], color='#81a6bb')
    ax.set_xlabel('Modeller')
    ax.set_ylabel('MAE DeÄŸerleri')
    ax.set_title('Model MAE PerformanslarÄ±')
    st.pyplot(fig)

    # R2 Grafik
    fig, ax = plt.subplots(figsize=(10, 6))
    ax.bar(df_scores.index, df_scores['R2'], color='#19255d')
    ax.set_xlabel('Modeller')
    ax.set_ylabel('R2 DeÄŸerleri')
    ax.set_title('Model RÂ² PerformanslarÄ±')
    st.pyplot(fig)
